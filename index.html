<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Europe Travel Budget Calculator</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#667eea,#764ba2);
  color:white;
  padding:20px;
}

h1 { text-align:center; }

.container {
  max-width:900px;
  margin:auto;
  background:white;
  color:black;
  padding:25px;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

input, select {
  padding:10px;
  margin:8px 0;
  width:100%;
  border-radius:8px;
  border:1px solid #ccc;
}

.card {
  background:#f8f9fa;
  padding:12px;
  margin:6px 0;
  border-radius:10px;
  transition:0.2s;
}

.card:hover {
  transform:translateY(-3px);
  box-shadow:0 5px 15px rgba(0,0,0,0.2);
}

button {
  width:100%;
  padding:12px;
  background:#28a745;
  color:white;
  border:none;
  border-radius:10px;
  font-size:16px;
  margin-top:12px;
  cursor:pointer;
}

button:hover { background:#218838; }

.result {
  margin-top:15px;
  font-weight:bold;
  font-size:18px;
}
</style>
</head>

<body>

<h1>ğŸŒ Europe Travel Budget Calculator</h1>

<div class="container">

<input type="number" id="days" placeholder="ì—¬í–‰ ì¼ìˆ˜ ì…ë ¥">

<select id="destination">
  <option value="CDG">í”„ë‘ìŠ¤ (íŒŒë¦¬)</option>
  <option value="FRA">ë…ì¼ (í”„ë‘í¬í‘¸ë¥´íŠ¸)</option>
  <option value="FCO">ì´íƒˆë¦¬ì•„ (ë¡œë§ˆ)</option>
  <option value="MAD">ìŠ¤í˜ì¸ (ë§ˆë“œë¦¬ë“œ)</option>
  <option value="AMS">ë„¤ëœë€ë“œ (ì•”ìŠ¤í…Œë¥´ë‹´)</option>
</select>

<button onclick="calculate()">ì´ ë¹„ìš© ê³„ì‚°</button>

<div class="result" id="result"></div>

<canvas id="chart"></canvas>

</div>

<script>

// 1ì¼ í‰ê·  ìœ ë¡œ ì˜ˆì‚°
const dailyCostEUR = 120;

// í™˜ìœ¨ API
async function fetchExchangeRate() {
  const res = await fetch('https://api.frankfurter.app/latest?from=EUR&to=KRW');
  const data = await res.json();
  return data.rates.KRW;
}

// âš  ì‹¤ì œ API ëŒ€ì‹  ì„ì‹œ í•­ê³µê¶Œ í‰ê· ê°€
async function getFlightEstimate() {
  return 900; // í‰ê·  900ìœ ë¡œ (ì„ì‹œê°’)
}

// ë©”ì¸ ê³„ì‚° í•¨ìˆ˜
async function calculate() {

  const days = document.getElementById("days").value;
  const destination = document.getElementById("destination").value;

  if(!days) {
    alert("ì—¬í–‰ ì¼ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”!");
    return;
  }

  const rate = await fetchExchangeRate();

  // ìˆ™ë°•/ìƒí™œë¹„
  const stayEUR = dailyCostEUR * days;
  const stayKRW = stayEUR * rate;

  // í•­ê³µê¶Œ
  const flightEUR = await getFlightEstimate();
  const flightKRW = flightEUR * rate;

  const totalKRW = stayKRW + flightKRW;

  document.getElementById("result").innerHTML =
    `ì´ ì˜ˆìƒ ë¹„ìš©: â‚©${Math.round(totalKRW).toLocaleString()}
     <br>(ì²´ë¥˜ë¹„ â‚©${Math.round(stayKRW).toLocaleString()} + í•­ê³µê¶Œ â‚©${Math.round(flightKRW).toLocaleString()})`;

  renderChart(stayKRW, flightKRW);
}

let chart;

function renderChart(stay, flight) {

  if(chart) chart.destroy();

  chart = new Chart(document.getElementById("chart"), {
    type:"doughnut",
    data:{
      labels:["ì²´ë¥˜ë¹„","í•­ê³µê¶Œ"],
      datasets:[{
        data:[stay, flight]
      }]
    }
  });
}

</script>

</body>
</html>
